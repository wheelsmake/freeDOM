(()=>{"use strict";function e(e,t,r){throw e===undefined?new Error("An error occured."):new Error(`Argument '${e}' ${t?`should be a(an) ${t}`:"is invalid"}${r?`, got ${r}`:""}.`)}function t(e,t){t!==undefined&&t instanceof Element||(t=document);let r=t.querySelectorAll(e);return r.length?1==r.length&&e.match(/^.*#[^\s]*$/)?r[0]:Array.from(r):[]}function r(e,t){for(;"HTML"!=e.tagName;)if((e=e.parentNode)===t)return!0;return!1}function n(e){e.textContent=e.textContent.replace(/\n\s+/g,"")}function o(t){"string"!=typeof t.id&&e("id","string",t.id),t.rootNode=i(t.rootNode)}function i(e){if(e instanceof Element)return e;if("string"==typeof e){const r=t(e);if(r instanceof Node)return r}else!function(e){throw new Error(e)}(`rootNode string should be a #id selector,but received ${e}.`)}var s,a,f,d,u=undefined&&undefined.__classPrivateFieldSet||function(e,t,r,n,o){if("m"===n)throw new TypeError("Private method is not writable");if("a"===n&&!o)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!o:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?o.call(e,r):o?o.value=r:t.set(e,r),r},c=undefined&&undefined.__classPrivateFieldGet||function(e,t,r,n){if("a"===r&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(e):n?n.value:t.get(e)};class h{constructor(e,t,r,n){s.set(this,void 0),a.set(this,void 0),f.set(this,void 0),d.set(this,void 0),u(this,s,e,"f"),u(this,a,t,"f"),u(this,f,r,"f"),n&&u(this,d,n,"f")}getInfo(){return{tagName:c(this,s,"f"),attributes:c(this,a,"f"),children:c(this,f,"f"),instance:c(this,d,"f")}}}s=new WeakMap,a=new WeakMap,f=new WeakMap,d=new WeakMap;var l,w,p=undefined&&undefined.__classPrivateFieldSet||function(e,t,r,n,o){if("m"===n)throw new TypeError("Private method is not writable");if("a"===n&&!o)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!o:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?o.call(e,r):o?o.value=r:t.set(e,r),r},m=undefined&&undefined.__classPrivateFieldGet||function(e,t,r,n){if("a"===r&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(e):n?n.value:t.get(e)};class g{constructor(e,t){l.set(this,void 0),w.set(this,void 0),p(this,l,e,"f"),t&&p(this,w,t,"f")}getInfo(){return{textContent:m(this,l,"f"),instance:m(this,w,"f")}}}function v(e){return e instanceof Text?"Text":e instanceof Element&&"Element"}function N(e,t,r){return new h(e,t,r)}function y(t){return new h(t.tagName.toLocaleLowerCase(),function(t){const r=v(t);"Text"!=r&&!1!==r||e("element","Element",t);const n=t.attributes;var o={};for(let e=0;e<n.length;e++)o[n[e].name]=n[e].textContent;return o}(t),function(e){const t=e.childNodes;var r=[];for(let o=0;o<t.length;o++){const e=v(t.item(o));if("Element"==e){const e=t.item(o);r.push(y(e))}else{if("Text"!=e)continue;{const e=t.item(o);n(e),r.push(E(e))}}}return r}(t),t)}function E(e){return n(e),new g(e.textContent,e)}function _(t){const r=v(t);return"Text"==r?E(t):"Element"==r?y(t):void e("node","Element | Text",t)}l=new WeakMap,w=new WeakMap;var T,b,P,D,I,M=undefined&&undefined.__classPrivateFieldSet||function(e,t,r,n,o){if("m"===n)throw new TypeError("Private method is not writable");if("a"===n&&!o)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!o:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?o.call(e,r):o?o.value=r:t.set(e,r),r},C=undefined&&undefined.__classPrivateFieldGet||function(e,t,r,n){if("a"===r&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(e):n?n.value:t.get(e)};class O{constructor(e,t){T.set(this,void 0),b.set(this,void 0),P.set(this,void 0),D.set(this,{}),I.set(this,["DO NOT CALL ME FROM OUTSIDE THE FreeDOM, PLUS YOU CANNOT DO ANYTHING WITHOUT SECRET KEY."]),M(this,T,e,"f"),M(this,b,t,"f"),M(this,P,_(e),"f")}m(){}mount(){}r(){}render(){}um(){}unmount(){}s(){}sync(){}rs(){}rsync(){}getID(){return C(this,b,"f")}getRootNode(){return C(this,T,"f")}__setRootNode__(e){const t=C(this,T,"f");return M(this,T,e,"f"),t}__setID__(e){const t=C(this,b,"f");return M(this,b,e,"f"),t}__getNodeTree__(){return C(this,P,"f")}}T=new WeakMap,b=new WeakMap,P=new WeakMap,D=new WeakMap,I=new WeakMap;var k,x=undefined&&undefined.__classPrivateFieldGet||function(e,t,r,n){if("a"===r&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(e):n?n.value:t.get(e)};class R{constructor(){k.set(this,[])}"new"(e){if(o(e),e.rootNode=e.rootNode,!r(e.rootNode,t("html")[0]))return null;for(let t=0;t<x(this,k,"f").length;t++){if(r(e.rootNode,x(this,k,"f")[t].getRootNode())||e.rootNode===x(this,k,"f")[t].getRootNode())return null;if(e.id===x(this,k,"f")[t].getID())return null;if(e.rootNode===x(this,k,"f")[t].getRootNode())return null}const n=new O(e.rootNode,e.id);return x(this,k,"f").push(n),n}existsID(e){for(let t=0;t<x(this,k,"f").length;t++)if(x(this,k,"f")[t].getID()===e)return x(this,k,"f")[t].getRootNode();return null}existsNode(e){for(let t=0;t<x(this,k,"f").length;t++)if(x(this,k,"f")[t].getRootNode()===e)return x(this,k,"f")[t].getID();return null}updateByID(e){o(e),e.rootNode=e.rootNode;for(let t=0;t<x(this,k,"f").length;t++)if(x(this,k,"f")[t].getID()===e.id)return x(this,k,"f")[t].__setRootNode__(e.rootNode);return null}updateByNode(e){o(e);for(let t=0;t<x(this,k,"f").length;t++)if(x(this,k,"f")[t].getRootNode()===e.rootNode)return x(this,k,"f")[t].__setID__(e.id);return null}"delete"(e){for(let n=0;n<x(this,k,"f").length;n++)if(x(this,k,"f")[n].getID()===e||x(this,k,"f")[n].getRootNode()===e)return t=x(this,k,"f")[n],-1!==(r=x(this,k,"f")).indexOf(t)&&r.splice(r.indexOf(t),1),{id:x(this,k,"f")[n].getID(),rootNode:x(this,k,"f")[n].getRootNode()};var t,r;return null}id(e){for(let t=0;t<x(this,k,"f").length;t++)if(x(this,k,"f")[t].getID()===e)return x(this,k,"f")[t];return null}rootNode(e){const t=i(e);for(let r=0;r<x(this,k,"f").length;r++)if(x(this,k,"f")[r].getRootNode()===t)return x(this,k,"f")[r];return null}h(e,t,r){return N(e,t,r)}createNode(e,t,r){return N(e,t,r)}p(e){return _(e)}parseNode(e){return _(e)}b(e){}buildNode(){}d(){}difu(){}e(e,r){return t(e,r)}}k=new WeakMap,function W(e){Object.freeze(e);for(let t=0;t<Object.keys(e).length;t++)"object"==typeof e[Object.keys(e)[t]]&&W(e[Object.keys(e)[t]])}(R),window.FreeDOM=R})();
//# sourceMappingURL=freedom.min.js.map