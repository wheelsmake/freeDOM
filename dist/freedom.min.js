(()=>{"use strict";function e(e){return"string"==typeof e?r(e):e}function t(e,t){for(;"HTML"!=e.tagName;)if((e=e.parentNode)===t)return!0;return!1}function r(e,t){t!==undefined&&t instanceof Element||(t=document);let r=t.querySelectorAll(e);return r.length?1==r.length&&e.match(/^.*#[^\s]*$/)?r[0]:Array.from(r):[]}function o(e){throw new Error(e)}var n,i,s,f,h=undefined&&undefined.__classPrivateFieldSet||function(e,t,r,o,n){if("m"===o)throw new TypeError("Private method is not writable");if("a"===o&&!n)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===o?n.call(e,r):n?n.value=r:t.set(e,r),r},a=undefined&&undefined.__classPrivateFieldGet||function(e,t,r,o){if("a"===r&&!o)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!o:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?o:"a"===r?o.call(e):o?o.value:t.get(e)};class d{constructor(e,t,r){n.set(this,void 0),i.set(this,void 0),s.set(this,void 0),f.set(this,["DO NOT CALL ME FROM OUTSIDE THE FreeDOM, PLUS YOU CANNOT DO ANYTHING WITHOUT SECRET KEY."]),h(this,n,e,"f"),h(this,i,t,"f"),h(this,s,r,"f")}n(){}h(){return this.n()}sync(){}rsync(){}d(){}getID(){return a(this,i,"f")}getRootNode(){return a(this,n,"f")}__setRootNodeWithKey__(e,t){if(e===a(this,s,"f"))return h(this,n,t,"f"),a(this,n,"f");o(a(this,f,"f")[0])}__setIDWithKey__(e,t){if(e===a(this,s,"f"))return h(this,i,t,"f"),a(this,i,"f");o(a(this,f,"f")[0])}}n=new WeakMap,i=new WeakMap,s=new WeakMap,f=new WeakMap;var l,u,c=undefined&&undefined.__classPrivateFieldGet||function(e,t,r,o){if("a"===r&&!o)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!o:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?o:"a"===r?o.call(e):o?o.value:t.get(e)};class w{constructor(){l.set(this,[]),u.set(this,[])}id(e){for(let t=0;t<c(this,l,"f").length;t++)if(c(this,l,"f")[t].getID()===e)return c(this,l,"f")[t];return null}rootNode(t){t=e(t);for(let e=0;e<c(this,l,"f").length;e++)if(c(this,l,"f")[e].getRootNode()===t)return c(this,l,"f")[e];return null}"new"(o){o.rootNode=e(o.rootNode);var n,i=(n=o.rootNode)instanceof Text?"Text":n instanceof HTMLElement?"HTMLElement":n instanceof SVGElement&&"SVGElement";if("HTMLElement"!=i&&"SVGElement"!=i&&function(e,t,r){throw e===undefined?new Error("An error occured."):new Error(`Argument '${e}' ${t?`should be a(an) ${t}`:"is invalid"}${r?`, got ${r}`:""}.`)}("rootNode","HTMLElement"),!t(o.rootNode,r("html")[0]))return!1;for(let e=0;e<c(this,l,"f").length;e++)if(t(o.rootNode,c(this,l,"f")[e].getRootNode())||o.rootNode===c(this,l,"f")[e].getRootNode())return!1;const s=function(e){var t="";for(let r=0;r<e;r++){let e=Math.floor(36*Math.random());t+=e<10?e:String.fromCharCode(e+87)}return t}(10);return c(this,l,"f").push(new d(o.rootNode,o.id,s)),c(this,u,"f").push(s),!0}existsID(e){for(let t=0;t<c(this,l,"f").length;t++)if(c(this,l,"f")[t].getID()===e)return c(this,l,"f")[t].getRootNode();return null}existsNode(e){for(let t=0;t<c(this,l,"f").length;t++)if(c(this,l,"f")[t].getRootNode()===e)return c(this,l,"f")[t].getID();return null}updateByID(t){t.rootNode=e(t.rootNode);for(let e=0;e<c(this,l,"f").length;e++)c(this,l,"f")[e].getID()===t.id&&c(this,l,"f")[e].__setRootNodeWithKey__(c(this,u,"f")[e],t.rootNode);return null}updateByNode(e){for(let t=0;t<c(this,l,"f").length;t++)c(this,l,"f")[t].getRootNode()===e.rootNode&&c(this,l,"f")[t].__setIDWithKey__(c(this,u,"f")[t],e.id);return null}"delete"(e){for(let o=0;o<c(this,l,"f").length;o++)if(c(this,l,"f")[o].getID()===e||c(this,l,"f")[o].getRootNode()===e)return t=c(this,l,"f")[o],-1!==(r=c(this,l,"f")).indexOf(t)&&r.splice(r.indexOf(t),1),{id:c(this,l,"f")[o].getID(),rootNode:c(this,l,"f")[o].getRootNode()};var t,r;return null}e(e,t){return r(e,t)}}l=new WeakMap,u=new WeakMap,function g(e){Object.freeze(e);for(let t=0;t<Object.keys(e).length;t++)"object"==typeof e[Object.keys(e)[t]]&&g(e[Object.keys(e)[t]])}(w),window.FreeDOM=w})();
//# sourceMappingURL=freeDOM.min.js.map