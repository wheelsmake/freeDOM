(()=>{"use strict";var e={d:(t,n)=>{for(var r in n)e.o(n,r)&&!e.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:n[r]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};function t(e){var t="";for(let n=0;n<e;n++){let e=Math.floor(52*Math.random());t+=e>25?String.fromCharCode(e+71):String.fromCharCode(e+65)}return t}function n(e,t,n,r){throw e===undefined?new Error("An error occured."):new Error(`Argument '${e}' ${t?`should be a(an) ${t}`:"is invalid"}${r?`, reason: ${r}`:""}${n?`, got ${n}`:""}.`)}function r(e,t){t!==undefined&&t instanceof Element||(t=document);let n=t.querySelectorAll(e);return n.length?1==n.length&&e.match(/^.*#[^\s]*$/)?n[0]:Array.from(n):[]}function o(e){return e instanceof Text?"Text":e instanceof Element&&"Element"}function a(e,n,r,o){return{id:t(15),tagName:e.toLocaleLowerCase(),attrs:n||null,children:r||null,instance:o||null}}function i(e){const t=o(e);if("Text"==t)return function(e){const t=e.textContent,n=t.replace(/\n\s*/g,""),r=e.parentElement;return"TEXTAREA"==r.tagName||r instanceof HTMLElement&&r.isContentEditable?t:""===n?(e.remove(),null):n!==t?(e.textContent=t.replace(/\n\s*/g," "),n):t}(e);if("Element"==t){const t=e;return a(t.tagName,function(e){const t=o(e);"Text"!=t&&!1!==t||n("element","Element",e,"only Element have attributes");const r=e.attributes;var a={};for(let n=0;n<r.length;n++)a[r[n].name]=r[n].textContent;if(m.has(e)){const t=m.get(e);for(let e=0;e<Object.keys(t).length;e++);}return 0===Object.keys(a).length?null:a}(t),function(e){const t=e.childNodes;var n=[];for(let r=0;r<t.length;r++){const e=t.item(r);null!==e&&i(e)}return 0===n.length?undefined:n}(t),t)}return n("node","Element | Text",e),""}function s(e){if("object"==typeof(t=e)&&"id"in t&&"tagName"in t&&"attrs"in t&&"children"in t&&"instance"in t){const t=document.createElement(e.tagName);return function(e,t){const n=t.attrs;for(let r in n);}(0,e),function(e,t){if(null!==t.children){const e=t.children;for(let t=0;t<e.length;t++)s(e[t])}}(0,e),t}return"string"==typeof e?document.createTextNode(e):(n("vElement","vElement",e),new Element);var t}e.d({},{d:()=>m});var l,c,d,u=undefined&&undefined.__classPrivateFieldSet||function(e,t,n,r,o){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!o)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!o:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?o.call(e,n):o?o.value=n:t.set(e,n),n},f=undefined&&undefined.__classPrivateFieldGet||function(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)};const h=[],m=new Map,p=Element.prototype,g=p;g.oddEventListener=p.addEventListener,p.addEventListener=new Proxy(g.oddEventListener,{apply(e,t,n){const[r,o,a,i]=n;if(m.has(t)){const e=m.get(t);if(e[r]===undefined)e[r]=[{handler:o,arg1:a,arg2:i}];else{var s=!1;const t=a!==undefined&&("boolean"==typeof a?a:a.capture||!1);for(let n=0;n<e[r].length;n++){const a=e[r][n].arg1,i=a!==undefined&&("boolean"==typeof a?a:a.capture||!1);if(o===e[r][n].handler&&t===i){s=!0;break}}s||e[r].push({handler:o,arg1:a,arg2:i})}m.set(t,e)}else m.set(t,{[r]:[{handler:o,arg1:a,arg2:i}]});return Reflect.apply(e,t,n)}}),g.oemoveEventListener=p.removeEventListener,p.removeEventListener=new Proxy(g.oemoveEventListener,{apply(e,t,n){const[r,o,a]=n;if(m.has(t)){const e=m.get(t);if(e[r]!==undefined){const t=a!==undefined&&("boolean"==typeof a?a:a.capture||!1);for(let n=0;n<e[r].length;n++){const a=e[r][n].arg1,l=a!==undefined&&("boolean"==typeof a?a:a.capture||!1);o===e[r][n].handler&&t===l&&(i=e[r][n],-1!==(s=e[r]).indexOf(i)&&s.splice(s.indexOf(i),1))}}m.set(t,e)}var i,s;return Reflect.apply(e,t,n)}});new MutationObserver((function(e){})).observe(document,{subtree:!0,childList:!0});class v{constructor(e,t){l.set(this,void 0),c.set(this,void 0),d.set(this,void 0),e=function(e){if(e instanceof Element)return e;if("string"==typeof e){const t=r(e);if(t instanceof Node)return t}else n("rootNode","string | Element",e,"rootNode should be a #id selector or an Element");return new Element}(e),u(this,l,e,"f");const o=i(e);"string"==typeof o||null===o?n("rootNode","Element | string",e,"rootNode should be an Element or a #id selector"):u(this,d,o,"f"),u(this,c,t,"f"),h.push(this)}get rootNode(){return f(this,l,"f")}get options(){return f(this,c,"f")}m(){}mount(){}u(){}unmount(){}s(){}sync(){}r(){}rsync(){}}l=new WeakMap,c=new WeakMap,d=new WeakMap;const E={"new":(e,t)=>new v(e,t),get instances(){return[...h]},get eventStore(){return new Map(m)},c:(e,t,n)=>a(e,t,n),createNode:(e,t,n)=>a(e,t,n),createElement:(e,t,n)=>a(e,t,n),createVElement:(e,t,n)=>a(e,t,n),h:(e,t,n)=>a(e,t,n),createVNode:(e,t,n)=>a(e,t,n),createNodeDescription:(e,t,n)=>a(e,t,n),p:e=>i(e),parseNode:e=>i(e),b:e=>s(e),buildNode:e=>s(e),e:(e,t)=>r(e,t)};!function w(e){Object.freeze(e);for(let t=0;t<Object.keys(e).length;t++)"object"==typeof e[Object.keys(e)[t]]&&w(e[Object.keys(e)[t]])}(E),Object.defineProperty(window,"FreeDOM",{configurable:!1,writable:!1,enumerable:!0,value:E})})();
//# sourceMappingURL=freedom.min.js.map