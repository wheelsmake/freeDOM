(()=>{"use strict";var e={d:(t,n)=>{for(var r in n)e.o(n,r)&&!e.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:n[r]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};function t(e){var t="";for(let n=0;n<e;n++){let e=Math.floor(52*Math.random());t+=e>25?String.fromCharCode(e+71):String.fromCharCode(e+65)}return t}function n(e,t){return-1===t.indexOf(e)?null:t.splice(t.indexOf(e),1)}function r(e,t,n,r){throw e===undefined?new Error("An error occured."):new Error(`Argument '${e}' ${t?`should be a(an) ${t}`:"is invalid"}${r?`, reason: ${r}`:""}${n?`, got ${n}`:""}.`)}function o(e,t){t!==undefined&&t instanceof Element||(t=document);let n=t.querySelectorAll(e);return n.length?1==n.length&&e.match(/^.*#[^\s]*$/)?n[0]:Array.from(n):[]}function l(e){return e instanceof Text?"Text":e instanceof Element&&"Element"}function i(e){return"object"==typeof e&&"id"in e&&"text"in e&&"instance"in e&&3==Object.keys(e).length}function a(e,n,o,l,i){return"string"!=typeof e&&r("tagName","string",e),null!==n&&"[object Object]"!=n.toString()&&r("attrs","SSkvObject",n),null!==o&&"[object Object]"!=o.toString()&&r("events","eventRecord",o),null===l||l instanceof Array||r("children","childrenArray",l),null===i||i instanceof Element||r("instance","Element",i),{id:t(15),tagName:e.toLocaleLowerCase(),attrs:n,events:o,children:l,instance:i}}function s(e){const n=l(e);if("Text"==n){const n=e;return function(e,n){return null===n||n instanceof Text||r("instance","Text",n),"string"==typeof e?{id:t(15),text:e,instance:n}:(null===e||r("text","string | null",e),null)}(function(e){const t=e.textContent,n=t.replace(/\n\s*/g,""),r=e.parentElement;return"TEXTAREA"==r.tagName||r instanceof HTMLElement&&r.isContentEditable?t:""===n?(e.remove(),null):n!==t?(e.textContent=t.replace(/\n\s*/g," "),n):t}(n),n)}if("Element"==n){const t=e;return a(t.tagName,function(e){const t=l(e);"Text"!=t&&!1!==t||r("element","Element",e,"only Element have attributes");const n=e.attributes;var o={};for(let r=0;r<n.length;r++)o[n[r].name]=n[r].textContent;return 0===Object.keys(o).length?null:o}(t),function(e){return g.has(e)?g.get(e):null}(t),function(e){const t=e.childNodes;var n=[];for(let r=0;r<t.length;r++){const e=t.item(r);if(null===e)continue;const o=l(e);if("Element"==o)n.push(s(e));else if("Text"==o){const t=s(e);null!==t&&n.push(t)}}return 0===n.length?null:n}(t),t)}return r("node","instance",e),null}function c(e){if("object"==typeof(t=e)&&"id"in t&&"tagName"in t&&"attrs"in t&&"children"in t&&"instance"in t&&5==Object.keys(t).length){const t=document.createElement(e.tagName);return function(e,t){const n=t.attrs;for(let r in n);}(0,e),function(e,t){if(null!==t.children){const n=t.children;for(let t=0;t<n.length;t++)e.appendChild(c(n[t]))}}(t,e),t}return i(e)?document.createTextNode(e.text):(r("vDOM","vDOM",e),new Element);var t}e.d({},{d8:()=>g});var u,f,d,h=undefined&&undefined.__classPrivateFieldSet||function(e,t,n,r,o){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!o)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!o:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?o.call(e,n):o?o.value=n:t.set(e,n),n},p=undefined&&undefined.__classPrivateFieldGet||function(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)};const m=[],g=new Map,y=Element.prototype,v=y;v.oddEventListener=y.addEventListener,y.addEventListener=new Proxy(v.oddEventListener,{apply(e,t,r){const[o,l,i,a]=r,s=g.get(t),c=i!==undefined&&("boolean"==typeof i?i:i.capture||!1);var u;if(u="object"==typeof i&&!0===i.once?new Proxy(l,{apply(e,r,l){const i=g.get(t)[o];for(let t=0;t<i.length;t++){const e=i[t].arg1,r=e!==undefined&&("boolean"==typeof e?e:e.capture||!1);i[t].handler===u&&r===c&&n(i[t],i)}return Reflect.apply(e,r,l)}}):l,s!==undefined){if(s[o]===undefined)s[o]=[{handler:u,arg1:i,arg2:a}],r[1]=u;else{var f=!1;for(let e=0;e<s[o].length;e++){const t=s[o][e].arg1,n=t!==undefined&&("boolean"==typeof t?t:t.capture||!1);if(l===s[o][e].handler&&c===n){f=!0;break}}f||(s[o].push({handler:u,arg1:i,arg2:a}),r[1]=u)}g.set(t,s)}else g.set(t,{[o]:[{handler:u,arg1:i,arg2:a}]}),r[1]=u;return Reflect.apply(e,t,r)}}),v.oemoveEventListener=y.removeEventListener,y.removeEventListener=new Proxy(v.oemoveEventListener,{apply(e,t,r){const[o,l,i]=r;if(g.has(t)){const e=g.get(t),r=i!==undefined&&("boolean"==typeof i?i:i.capture||!1);if(e[o]!==undefined)for(let t=0;t<e[o].length;t++){const i=e[o][t].arg1,a=i!==undefined&&("boolean"==typeof i?i:i.capture||!1);l===e[o][t].handler&&r===a&&n(e[o][t],e[o])}g.set(t,e)}return Reflect.apply(e,t,r)}});new MutationObserver((function(e){})).observe(document,{subtree:!0,childList:!0});class b{constructor(e,t){u.set(this,void 0),f.set(this,void 0),d.set(this,void 0),e=function(e){if(e instanceof Element)return e;if("string"==typeof e){const t=o(e);if(t instanceof Node)return t}else r("rootNode","string | Element",e,"rootNode should be a #id selector or an Element");return new Element}(e),h(this,u,e,"f");const n=s(e);i(n)||null===n?r("rootNode","Elementy",e,"rootNode should be an Element or a #id selector"):h(this,d,n,"f"),h(this,f,t,"f"),m.push(this)}get rootNode(){return p(this,u,"f")}get options(){return p(this,f,"f")}m(){}mount(){}u(){}unmount(){}s(){}sync(){}r(){}rsync(){}}u=new WeakMap,f=new WeakMap,d=new WeakMap;const w={"new":(e,t)=>new b(e,t),get instances(){return[...m]},get eventStore(){return new Map(g)},c:(e,t,n,r)=>a(e,t||null,null,r||null,null),createNode:(e,t,n)=>a(e,t||null,null,n||null,null),h:(e,t,n)=>a(e,t||null,null,n||null,null),p:e=>s(e),parseNode:e=>s(e),b:e=>c(e),buildNode:e=>c(e),e:(e,t)=>o(e,t)};!function E(e){Object.freeze(e);for(let t=0;t<Object.keys(e).length;t++)"object"==typeof e[Object.keys(e)[t]]&&E(e[Object.keys(e)[t]])}(w);Object.defineProperty(window,"FreeDOM",{configurable:!1,writable:!1,enumerable:!0,value:w})})();
//# sourceMappingURL=freedom.min.js.map