{"version":3,"file":"freeDOM.js","mappings":"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","sources":["webpack:///./src/freeDOM-core.ts","webpack:///./src/utils.ts","webpack:///webpack/bootstrap","webpack:///webpack/runtime/define property getters","webpack:///webpack/runtime/hasOwnProperty shorthand","webpack:///webpack/runtime/make namespace object","webpack:///./src/freeDOM.ts"],"sourcesContent":["export default class{\r\n    #parent :FreeDOM;\r\n    #messages :any[];\r\n    #numeralID :number;\r\n    #rootNode :HTMLElement;\r\n    #id :string;\r\n    constructor(parent :FreeDOM, messages :any[], numeralID :number, rootNode :HTMLElement, id :string){\r\n        this.#parent = parent;\r\n        this.#messages = messages;\r\n        this.#numeralID = numeralID;\r\n        this.#rootNode = rootNode;\r\n        this.#id = id;\r\n        this.#messages[this.#numeralID] = \"ok\";\r\n    }\r\n}","/* freeDOM\r\n * ©2022 LJM12914. https://github.com/openink/freeDOM\r\n * Licensed under MIT License. https://github.com/openink/freeDOM/blob/main/LICENSE\r\n*/\r\nexport default (()=>{\r\n    return{\r\n        isDescendant(element :HTMLElement, target :HTMLElement) :boolean{\r\n            while(element.tagName != \"HTML\"){\r\n                element = element.parentNode! as HTMLElement;\r\n                if(element === target) return true; \r\n            }\r\n            return false;\r\n        },\r\n        e(s :string, scope? :HTMLElement | Document) :Node[] | Node{\r\n            if(scope === undefined || !(scope instanceof HTMLElement)) scope = document;\r\n            let a :NodeList = scope.querySelectorAll(s);\r\n            if(!a.length) return [];\r\n            //note:当一个页面存在相同ID元素时不会走这里，而会返回数组，因为说好了是querySelectorAll了并且本来就不应该有重复ID，不能怪我啊\r\n            if(a.length == 1 && s.match(/^.*#[^\\s]*$/)) return a[0];\r\n            else return Array.from(a);\r\n        },\r\n        isInDocument(element :HTMLElement) :boolean{\r\n            return this.isDescendant(element, (this.e(\"html\") as Node[])[0] as HTMLElement);\r\n        },\r\n        precisePop(ele :any, array :any[]) :any[] | null{\r\n            if(array.indexOf(ele) === -1) return null;\r\n            return array.splice(array.indexOf(ele), 1);\r\n        },\r\n        //递归冻结对象\r\n        constantize(obj :anyObject) :void{\r\n            Object.freeze(obj);\r\n            for(let i = 0; i < Object.keys(obj).length; i++) if(typeof obj[Object.keys(obj)[i]] == \"object\") this.constantize(obj[Object.keys(obj)[i]]);\r\n        }\r\n    }\r\n})();","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","/* freeDOM\r\n * ©2022 LJM12914. https://github.com/openink/freeDOM\r\n * Licensed under MIT License. https://github.com/openink/freeDOM/blob/main/LICENSE\r\n*/\r\nimport tagNames from \"./tagNames\";\r\nimport FreeDOMCore from \"./freeDOM-core\";\r\nimport utils from \"./utils\";\r\ninterface newArgs{\r\n    rootNode :HTMLElement | string;\r\n    id :string;\r\n}\r\ninterface updateByIDArgs{\r\n    id :string;\r\n    rootNode :HTMLElement;\r\n}\r\ninterface updateByNodeArgs{\r\n    id :string;\r\n    rootNode :HTMLElement;\r\n}\r\nconsole.warn(\"freeDOM ©LJM12914. https://github.com/openink/freeDOM \\r\\nYou are using an unminified version of freeDOM, which is not suitable for production use.\");\r\nclass FreeDOM{\r\n    #instances :freeDOMInstance[] = [];\r\n    #messages :any[] = [];\r\n    constructor(){\r\n        console.warn(\"creating new FreeDOM instance.\");\r\n    }\r\n    new(args :newArgs) :boolean{\r\n        if(typeof args.rootNode == \"string\") args.rootNode = utils.e(args.rootNode) as HTMLElement; //不管乱写了\r\n        //排除已经是目前作用域或目前作用域子元素的新增\r\n        if(!utils.isInDocument(args.rootNode)){\r\n            console.warn(`${args.rootNode} is not in document.`);\r\n            return false;\r\n        }\r\n        for(let i = 0; i < this.#instances.length; i++) if(utils.isDescendant(args.rootNode, this.#instances[i].rootNode) || args.rootNode === this.#instances[i].rootNode){\r\n            console.warn(`${args.rootNode} is already a descendant of a rootNode of an exist scope, thus freeDOM won't add it.`);\r\n            return false;\r\n        }\r\n        //排除原数组中是新增作用域子元素的元素\r\n        for(let i = 0; i < this.#instances.length; i++) if(utils.isDescendant(this.#instances[i].rootNode, args.rootNode)) utils.precisePop(this.#instances[i].rootNode, this.#instances);\r\n        this.#instances.push({\r\n            instance: new FreeDOMCore(this, this.#messages, this.#instances.length, args.rootNode, args.id), //先求值再push，没问题\r\n            rootNode: args.rootNode,\r\n            id: args.id\r\n        });\r\n        console.log(this.#messages[this.#instances.length - 1]);\r\n        return true;\r\n    }\r\n    existsID(id :string) :HTMLElement | null{\r\n        for(let i = 0; i < this.#instances.length; i++) if(this.#instances[i].id === id) return this.#instances[i].rootNode;\r\n        return null;\r\n    }\r\n    existsNode(rootNode :HTMLElement) :string | null{\r\n        for(let i = 0; i < this.#instances.length; i++) if(this.#instances[i].rootNode === rootNode) return this.#instances[i].id;\r\n        return null;\r\n    }\r\n    updateByID(args :updateByIDArgs) :HTMLElement | null{\r\n        for(let i = 0; i < this.#instances.length; i++) if(this.#instances[i].id === args.id){\r\n\r\n        }\r\n        return null;\r\n    }\r\n    updateByNode(args :updateByNodeArgs) :string | null{\r\n        for(let i = 0; i < this.#instances.length; i++){\r\n            \r\n        }\r\n        return null;\r\n    }\r\n    delete(arg :string | HTMLElement) :object | null{\r\n        for(let i = 0; i < this.#instances.length; i++){\r\n            \r\n        }\r\n        return null;\r\n    }\r\n}\r\nutils.constantize(FreeDOM);\r\n(window as any).FreeDOM = FreeDOM;"],"names":[],"sourceRoot":""}