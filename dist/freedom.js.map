{"version":3,"file":"freedom.js","mappings":"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","sources":["webpack:///./src/freedom.ts","webpack:///./src/utils/index.ts","webpack:///./src/utils/misc.ts","webpack:///./src/utils/vdom.build.ts","webpack:///./src/utils/vdom.diff.ts","webpack:///./src/utils/vdom.get.ts","webpack:///./src/utils/vdom.misc.ts","webpack:///./src/utils/vdom.ts","webpack:///../utils/element.ts","webpack:///../utils/generic.ts","webpack:///../utils/index.ts","webpack:///webpack/bootstrap","webpack:///webpack/runtime/define property getters","webpack:///webpack/runtime/hasOwnProperty shorthand","webpack:///webpack/runtime/make namespace object","webpack:///./src/freedom.export.ts"],"sourcesContent":["/* freeDOM\r\n * ©2022 LJM12914. https://github.com/wheelsmake/freeDOM\r\n * Licensed under MIT License. https://github.com/wheelsmake/freeDOM/blob/main/LICENSE\r\n*/\r\nimport * as utils from \"../../utils/index\";\r\nimport * as localUtils from \"./utils/index\";\r\n\r\n//开发模式记录\r\nconsole.info(\"freeDOM ©LJM12914. https://github.com/openink/freeDOM \\r\\nYou are using an unminified version of freeDOM, which is not suitable for production use.\");\r\n\r\n//事件捕获相关hack变量\r\nconst instances :ScopeInstance[] = [], eventStore :eventStore = new Map(); //Map浏览器支持率＞96% on 2022.7.23\r\nexport {instances, eventStore}; //暴露这两个变量给utils\r\n\r\n//hack addEventListener\r\n//不能用window.onload，实际上它是最迟执行的\r\nconst Ep = Element.prototype, Ep_A = Ep as anyObject;\r\n\r\nEp_A.oddEventListener = Ep.addEventListener;\r\nEp.addEventListener = new Proxy(Ep_A.oddEventListener, {\r\n    apply(\r\n        oEL :Function,\r\n        callerElement :Element,\r\n        argArray :[string, Function, boolean | AddEventListenerOptions | undefined, boolean | undefined]\r\n        //第四个参数兼容wantUntrusted\r\n    ){\r\n        //note:不需要检查type是否合法，因为存在自定义事件的可能；选择记录所有HTML DOM的所有事件，其实也不多\r\n        //console.log(callerElement, argArray);\r\n        const [eventName, handler, arg1, arg2] = argArray,\r\n              record = eventStore.get(callerElement),\r\n              useCapture = arg1 !== undefined ? typeof arg1 == \"boolean\" ? arg1 : arg1.capture || false : false; //适应调用参数https://developer.mozilla.org/zh-CN/docs/Web/API/EventTarget/addEventListener#syntax\r\n        var processedHandler :Function;\r\n        if(typeof arg1 == \"object\" && arg1[\"once\"] === true){ //处理once情况，调用后立即删除\r\n            processedHandler = new Proxy(handler, {\r\n                apply(target, thisArg, argArray){\r\n                    //console.log(processedHandler);\r\n                    //不知道record会不会保存之前的值，我们还是再获取一遍吧\r\n                    const recordValue = eventStore.get(callerElement)![eventName]; //既然运行了这个方法就不可能是undefined\r\n                    //还是得找才能删除\r\n                    for(let i = 0; i < recordValue.length; i++){\r\n                        const thisArg1 = recordValue[i].arg1,\r\n                              thisUseCapture = thisArg1 !== undefined ? typeof thisArg1 == \"boolean\" ? thisArg1 : thisArg1.capture || false : false; //适应调用参数L32\r\n                        if(recordValue[i].handler === processedHandler && thisUseCapture === useCapture){\r\n                            utils.generic.precisePop(recordValue[i], recordValue);\r\n                        }\r\n                    }\r\n                    return Reflect.apply(target, thisArg, argArray);\r\n                }\r\n            });\r\n        }\r\n        else processedHandler = handler;\r\n        if(record !== undefined){ //本元素已被记录\r\n            if(record[eventName] === undefined){\r\n                record[eventName] = [{ //本元素未有该事件，新建数组\r\n                    handler: processedHandler, arg1, arg2\r\n                }];\r\n                argArray[1] = processedHandler; //同L80\r\n            }\r\n            else{  //本元素已有该事件\r\n                /* note:排除会被浏览器丢弃的调用。\r\n                 * 浏览器将type、handler和useCapture完全一致listener认为是同一个，不管其他参数是否相同。\r\n                 * 所以我们需要在这里比较handler和useCapture是否一致，如果没找到完全一致的listener就需要存新的listener\r\n                 * 否则浏览器不会更改已有listener，我们也不会对eventStore作更改\r\n                */\r\n                var isDuplicated = false; //为了能正常return的flag\r\n                //console.log(useCapture);\r\n                for(let i = 0; i < record[eventName].length; i++){\r\n                    const thisArg1 = record[eventName][i].arg1,\r\n                          thisUseCapture = thisArg1 !== undefined ? typeof thisArg1 == \"boolean\" ? thisArg1 : thisArg1.capture || false : false; //适应调用参数L32\r\n                    if(handler === record[eventName][i].handler && useCapture === thisUseCapture){ //找到了所谓完全一致的listener，走吧\r\n                        isDuplicated = true;\r\n                        break;\r\n                    }\r\n                }\r\n                if(!isDuplicated){\r\n                    record[eventName].push({\r\n                        handler: processedHandler, arg1, arg2\r\n                    });\r\n                    //这个不能放到最后，因为如果浏览器没有添加的话就会多出一个，必须在确保浏览器会添加这个事件后再修改参数\r\n                    argArray[1] = processedHandler;\r\n                }\r\n            }\r\n            eventStore.set(callerElement, record);\r\n        }\r\n        else{\r\n            eventStore.set(callerElement, { //本元素未被记录\r\n                [eventName]: [{\r\n                    handler: processedHandler, arg1, arg2\r\n                }]\r\n            });\r\n            argArray[1] = processedHandler; //同L80\r\n        }\r\n        return Reflect.apply(oEL, callerElement, argArray);\r\n    }\r\n});\r\n\r\nEp_A.oemoveEventListener = Ep.removeEventListener;\r\nEp.removeEventListener = new Proxy(Ep_A.oemoveEventListener, {\r\n    apply(\r\n        omEL :Function,\r\n        callerElement :Element,\r\n        argArray :[string, Function, boolean | AddEventListenerOptions | undefined]\r\n    ){\r\n        //console.log(callerElement, argArray);\r\n        const [eventName, handler, arg1] = argArray;\r\n        if(eventStore.has(callerElement)){ //本元素已被记录\r\n            const record = eventStore.get(callerElement)!,\r\n                  useCapture = arg1 !== undefined ? typeof arg1 == \"boolean\" ? arg1 : arg1.capture || false : false; //适应调用参数;\r\n            if(record[eventName] !== undefined){ //本元素已有该类型事件\r\n                /* note:识别真正会被浏览器移除的listener。\r\n                 * 对于大多数浏览器来说，会检查remove的type、handler和useCapture是否一致\r\n                 * 我们也是这样\r\n                 * 对于其他浏览器暂不做支持，因为需要查很多资料，留个todo:吧\r\n                 * https://developer.mozilla.org/zh-CN/docs/Web/API/EventTarget/removeEventListener#:~:text=%E5%8F%AA%E6%9C%89%20capture%20%E9%85%8D%E7%BD%AE%E5%BD%B1%E5%93%8D%20removeEventListener().\r\n                */\r\n                for(let i = 0; i < record[eventName].length; i++){\r\n                    const thisArg1 = record[eventName][i].arg1,\r\n                          thisUseCapture = thisArg1 !== undefined ? typeof thisArg1 == \"boolean\" ? thisArg1 : thisArg1.capture || false : false; //适应调用参数\r\n                    if(handler === record[eventName][i].handler && useCapture === thisUseCapture) utils.generic.precisePop(record[eventName][i], record[eventName]); //存在对应handler，删除\r\n                }\r\n            }\r\n            //else 本类型事件未被记录，不管了\r\n            eventStore.set(callerElement, record);\r\n        }\r\n        //else 本元素未被记录，不知道调用者在干嘛\r\n        return Reflect.apply(omEL, callerElement, argArray);\r\n    }\r\n});\r\n\r\n//主类\r\nclass ScopeInstance{\r\n    #rootNode :Element;\r\n    #options? :fdOptions;\r\n    #oldVDOM :vElement;\r\n    #vDOM :vElement;\r\n    //#observer :MutationObserver;\r\n    #oldSearchStore :searchStore = [[],[],[]];\r\n    #searchStore :searchStore = [[],[],[]];\r\n    constructor(rootNode :Elementy, options? :fdOptions){\r\n        //开发模式记录\r\n        console.info(\"creating new freeDOM instance with rootNode\", rootNode, \"and options\", options);\r\n\r\n        //输入rootNode\r\n        rootNode = localUtils.misc.reduceToElement(rootNode);\r\n        this.#rootNode = rootNode;\r\n\r\n        //获取vDOM并检测其合法性\r\n        const tree = localUtils.vDOM.parseNode(rootNode);\r\n        if(localUtils.vDOM.misc.isVText(tree) || tree === null){\r\n            utils.generic.E(\"rootNode\", \"Elementy\", rootNode, \"rootNode should be an Element or a #id selector\");\r\n            throw new Error(); //ts真无聊，上一行代码就是抛出异常的，不会执行到这里的\r\n        }\r\n        else this.#vDOM = tree as vElement; //ts真无聊\r\n        this.#oldVDOM = this.#vDOM;\r\n        \r\n        //输入options\r\n        this.#options = options;\r\n\r\n        /*初始化DOM监测器\r\n        this.#observer = new MutationObserver(this.#observerCB);\r\n        this.#observer.observe(this.#rootNode, {\r\n            childList: true,\r\n            subtree: true,\r\n            characterData: true,\r\n            characterDataOldValue: true,\r\n            attributes: true,\r\n            attributeOldValue: true\r\n        });*/\r\n\r\n        //记录实例\r\n        instances.push(this);\r\n    }\r\n    /*DOM监测回调\r\n    #observerCB(mutations :MutationRecord[]) :void{\r\n        for(let i = 0; i < mutations.length; i++){\r\n            console.log(mutations[i]);\r\n            //\r\n        }\r\n    }*/\r\n    //属性获取\r\n    //note:get访问器返回值必须可以赋给set访问器\r\n    get rootNode() :Element{return this.#rootNode;}\r\n    get options() :fdOptions | undefined{return this.#options;}\r\n    get vDOM() :vElement | undefined{return this.#vDOM;}\r\n    //vDOM API\r\n    m(location :string | vElement, index :number | string, subTree :vDOM) :void{\r\n        const vDOM = this.#vDOM;\r\n        if(location !== vDOM.id) for(let i = 0; i < vDOM.children.length; i++){\r\n\r\n        }\r\n        else vDOM.children.splice(index as number, 0, subTree);\r\n    }\r\n    mount(location :string | vElement, index :number | string, subTree :vDOM) :void{return this.m(location, index, subTree);}\r\n    u(){\r\n\r\n    }\r\n    unmount(){\r\n        return this.u();\r\n    }\r\n    s(){\r\n\r\n    }\r\n    sync(){\r\n        return this.s();\r\n    }\r\n    r(){\r\n\r\n    }\r\n    rsync(){\r\n        return this.r();\r\n    }\r\n}\r\n\r\n//主对象\r\nconst FreeDOM = {\r\n//创建实例\r\n    new(rootNode: Elementy, options?: fdOptions) :ScopeInstance{\r\n        return new ScopeInstance(rootNode, options);\r\n    },\r\n//信息获取\r\n    get instances(){\r\n        /* 不能将instances直接传出！\r\n         * 第一：会暴露内部变量的地址；\r\n         * ???:第二，会奇怪地导致instances被自动取消可扩展性（Object.isExtensible(instances) === false），进而导致创建新实例无法记录\r\n         * 所以我们选择复制一份\r\n         */\r\n        return [...instances];\r\n    },\r\n    get eventStore(){\r\n        //问题同上第一条\r\n        return new Map(eventStore);\r\n    },\r\n//vDOM创建\r\n    c(tagName :string, attrs? :SSkvObject | null, children? :childrenArray) :vElement{\r\n        return localUtils.vDOM.createVElement(utils.generic.randoma2Z(15), tagName, attrs || null, null, children || [], null);\r\n    },\r\n    createVElement(tagName :string, attrs? :SSkvObject | null, children? :childrenArray) :vElement{\r\n        return localUtils.vDOM.createVElement(utils.generic.randoma2Z(15), tagName, attrs || null, null, children || [], null);\r\n    },\r\n    h(tagName :string, attrs? :SSkvObject | null, children? :childrenArray) :vElement{\r\n        return localUtils.vDOM.createVElement(utils.generic.randoma2Z(15), tagName, attrs || null, null, children || [], null);\r\n    },\r\n    t(text :string) :vText | null{\r\n        return localUtils.vDOM.createVText(utils.generic.randoma2Z(15), text, null) || null;\r\n    },\r\n    createVText(text :string) :vText | null{\r\n        return localUtils.vDOM.createVText(utils.generic.randoma2Z(15), text, null) || null;\r\n    },\r\n//vDOM与DOM的转换\r\n    p(node :Node) :vDOM | null{\r\n        const result = localUtils.vDOM.parseNode(node);\r\n        return result || null;\r\n    },\r\n    parseNode(node :Node) :vDOM | null{\r\n        const result = localUtils.vDOM.parseNode(node);\r\n        return result || null;\r\n    },\r\n    b(vElement :vDOM) :instance{\r\n        return localUtils.vDOM.buildNode(vElement);\r\n    },\r\n    buildNode(vElement :vDOM) :instance{\r\n        return localUtils.vDOM.buildNode(vElement);\r\n    },\r\n//vDOM对比\r\n    d(){\r\n        \r\n    },\r\n    diff(){\r\n\r\n    },\r\n//工具方法\r\n    e(s :string, scope? :Element | Document) :Node | Node[]{return utils.element.e(s, scope);},\r\n}\r\n\r\n//对象导出\r\nutils.generic.constantize(FreeDOM);\r\nexport default FreeDOM;","/* freeDOM\r\n * ©2022 LJM12914. https://github.com/wheelsmake/freeDOM\r\n * Licensed under MIT License. https://github.com/wheelsmake/freeDOM/blob/main/LICENSE\r\n*/\r\nexport * as misc from \"./misc\";\r\nexport * as vDOM from \"./vdom\";","/* freeDOM\r\n * ©2022 LJM12914. https://github.com/wheelsmake/freeDOM\r\n * Licensed under MIT License. https://github.com/wheelsmake/freeDOM/blob/main/LICENSE\r\n*/\r\nimport * as utils from \"../../../utils/index\";\r\nimport * as localUtils from \"./index\";\r\nexport function reduceToElement(input :Elementy) :Element{\r\n    if(input instanceof Element) return input;\r\n    else if(typeof input == \"string\"){\r\n        const el = utils.element.e(input);\r\n        if(el instanceof Node) return el as Element;\r\n        else utils.generic.E(\"rootNode\", \"string | Element\", input, \"rootNode should be a VALID #id selector\"); //fixed:现在不会走到new Element()那儿了\r\n    }\r\n    else utils.generic.E(\"rootNode\", \"string | Element\", input, \"rootNode should be a #id selector or an Element\");\r\n    return new Element(); //ts真无聊\r\n}\r\nexport function pushSearchStore(searchStore :searchStore, searchBlock :searchBlock) :void{\r\n    //id基本不可能重复，vDOM是独立object，不可能判定相等，由于一个\r\n}","/* freeDOM\r\n * ©2022 LJM12914. https://github.com/wheelsmake/freeDOM\r\n * Licensed under MIT License. https://github.com/wheelsmake/freeDOM/blob/main/LICENSE\r\n*/\r\nimport * as utils from \"../../../utils/index\";\r\nimport * as localUtils from \"./index\";\r\nimport * as misc from \"./vdom.misc\";\r\n\r\n//全量\r\nexport function Attr(element :Element, data :vElement) :void{\r\n    const attrs = data.attrs;\r\n    for(let i in attrs) deltaAttr(element, i, attrs[i]);\r\n}\r\nexport function Event(element :Element, data :vElement){\r\n    //todo:\r\n}\r\nexport function Children(element :Element, data :vElement) :void{\r\n    if(data.children === null) return;\r\n    else{\r\n        const children = data.children;\r\n        for(let i = 0; i < children.length; i++) deltaChildren(element, children[i]); //递归产生处\r\n    }\r\n}\r\n\r\n//增量\r\nexport function deltaAttr(element :Element, key :string, value :string) :void{\r\n    element.setAttribute(key, value);\r\n}\r\nexport function deltaEvent(element :Element) :void{\r\n    //todo:\r\n    \r\n}\r\nexport function deltaChildren(element :Element, childrenVDOM :vDOM) :void{\r\n    element.appendChild(localUtils.vDOM.buildNode(childrenVDOM));\r\n}","/* freeDOM\r\n * ©2022 LJM12914. https://github.com/wheelsmake/freeDOM\r\n * Licensed under MIT License. https://github.com/wheelsmake/freeDOM/blob/main/LICENSE\r\n*/\r\nimport * as utils from \"../../../utils/index\";\r\nimport * as localUtils from \"./index\";\r\nimport * as misc from \"./vdom.misc\";\r\nexport function diff(){\r\n    \r\n}\r\nexport function patch(){\r\n\r\n}","/* freeDOM\r\n * ©2022 LJM12914. https://github.com/wheelsmake/freeDOM\r\n * Licensed under MIT License. https://github.com/wheelsmake/freeDOM/blob/main/LICENSE\r\n*/\r\nimport * as utils from \"../../../utils/index\";\r\nimport * as localUtils from \"./index\";\r\n//这个东西不能导出，否则ts会无法编译\r\nimport * as FreeDOM from \"../freedom\";\r\nimport * as misc from \"./vdom.misc\";\r\nexport function Attr(element :Element) :SSkvObject | null{\r\n    const test = misc.testNodeType(element);\r\n    if(test == \"Text\" || test === false) utils.generic.E(\"element\", \"Element\", element, \"only Element have attributes\"); //文本节点不存在attr\r\n    const attr = element.attributes; //typeof NamedNodeMap\r\n    var result :SSkvObject = {};\r\n    for(let i = 0; i < attr.length; i++) result[attr[i].name] = attr[i].textContent!; //只要传入已有name就不会出null\r\n    if(Object.keys(result).length === 0) return null;\r\n    else return result;\r\n}\r\nexport function Event(node :Element) :eventRecord | null{\r\n    //fixed:这边可以这样写，通过import/export的FreeDOM.eventStore传回的就是eventStore本身，具有关联性\r\n    if(FreeDOM.eventStore.has(node)){\r\n        //浅复制eventStore，等于是保存元素当前的事件状态快照\r\n        //浅复制即可，浏览器删除事件监听器时不会销毁对象\r\n        const record = FreeDOM.eventStore.get(node)!, result :anyObject = {}; //ts真无聊\r\n        for(let eventName in record){\r\n            result[eventName] = [];\r\n            for(let i = 0; i < record[eventName].length; i++) result[eventName][i] = record[eventName][i];\r\n                //只需要复制到这里，参数对象内部无需遍历即可保持快照状态\r\n                /*for(let member in record[eventName][i]){\r\n                    result[eventName][i][member] = (record[eventName][i] as anyObject)[member]; //ts真无聊\r\n                */\r\n        }\r\n        return result;\r\n    }\r\n    else return null;\r\n}\r\nexport function Children(element :Element/* | Text*/) :childrenArray{\r\n    const children :Node[] = Array.from(element.childNodes);\r\n    //argument_solved 2022.7.31:只能用Node[]，因为垃圾文本节点会被删除造成必然缺陷。\r\n    var result :vDOM[] = [];\r\n    for(let i = 0; i < children.length; i++){\r\n        const item = children[i];\r\n        if(item === null){ //这里可以避免缺陷for循环，因为i是对的，一个Element的childNodes不可能item出非Node，走到这里的唯一可能就是NodeList出缺陷了\r\n            console.warn(\"DOM structure was changed during freeDOM's parsing nodes. Please avoid that.\");\r\n            continue;\r\n        }\r\n        const test = misc.testNodeType(item);\r\n        if(test == \"Element\") result.push(localUtils.vDOM.parseNode(item)!); //递归产生处，Element不会null\r\n        else if(test == \"Text\"){\r\n            const node = localUtils.vDOM.parseNode(item); //递归产生处\r\n            if(node !== undefined) result.push(node!);\r\n            //else void表示垃圾文本节点已经被删除，不需要记录了\r\n        }\r\n        //else 应该永远不会走到这里吧\r\n    }\r\n    //fixed:直接返回数组不就不用判定了吗？\r\n    return result;\r\n}","/* freeDOM\r\n * ©2022 LJM12914. https://github.com/wheelsmake/freeDOM\r\n * Licensed under MIT License. https://github.com/wheelsmake/freeDOM/blob/main/LICENSE\r\n*/\r\nimport * as utils from \"../../../utils/index\";\r\nimport * as localUtils from \"./index\";\r\nexport function testNodeType(node :Node) :\"Text\" | \"Element\" | false{\r\n    if(node instanceof Text) return \"Text\";\r\n    else if(node instanceof Element) return \"Element\";\r\n    else return false;\r\n}\r\nexport function isVText(input :any) :boolean{\r\n    return(\r\n        typeof input == \"object\"\r\n     && \"id\" in input\r\n     && \"text\" in input\r\n     && \"instance\" in input\r\n     && Object.keys(input).length == 3\r\n    );\r\n}\r\nexport function isVElement(input :any) :boolean{\r\n    return(\r\n        typeof input == \"object\"\r\n     && \"id\" in input\r\n     && \"tagName\" in input\r\n     && \"attrs\" in input\r\n     && \"events\" in input\r\n     && \"children\" in input\r\n     && \"instance\" in input\r\n     && Object.keys(input).length == 6\r\n    );\r\n}\r\n/****!PURE 非纯函数**\r\n * \r\n * 检测某个文本节点是否为垃圾文本节点（即缩进造成的文本节点）\r\n * \r\n * 这种文本节点会造成 vDOM 大小明显变大，必须处理\r\n * \r\n * 如果全部垃圾，那么就直接删除这个节点并返回 `null`\r\n * \r\n * 如果不完全垃圾，那么删除垃圾部分并返回剩下的 `textContent`\r\n * \r\n * 如果没有垃圾或**被判定为豁免节点**，那么直接返回 `textContent`\r\n */\r\nexport function processNLIText(textNode :Text) :string | null{\r\n    //fixme:存在末尾\\n文本节点被浏览器自动加回去的问题（但并未影响vDOM）\r\n    const textContent = textNode.textContent!,\r\n          //这个是用来标记原字符串是否需要处理的\r\n          signContent = textContent.replace(/\\n\\s*/g, \"\"), //只有\\n也要删\r\n          parent = textNode.parentElement as Element; //replace不改动原字符串\r\n    //排除可编辑内容的元素的内容\r\n    if(parent.tagName == \"TEXTAREA\" || (parent instanceof HTMLElement && parent.isContentEditable)) return textContent;\r\n    else{\r\n        if(signContent === \"\"){ //完全就是垃圾节点\r\n            textNode.remove();\r\n            return null;\r\n        }\r\n        else if(signContent !== textContent){ //部分垃圾\r\n            textNode.textContent = textContent.replace(/\\n\\s*/g, \" \"); //更新文本节点，插入空格，保持视觉效果\r\n            return textNode.textContent; //fixed:signContent和textContent都不一样，干嘛返回signContent啊\r\n        }\r\n        else return textContent; //没有垃圾\r\n    }\r\n}","/* freeDOM\r\n * ©2022 LJM12914. https://github.com/wheelsmake/freeDOM\r\n * Licensed under MIT License. https://github.com/wheelsmake/freeDOM/blob/main/LICENSE\r\n*/\r\nimport * as utils from \"../../../utils/index\";\r\nimport * as localUtils from \"./index\";\r\n\r\n//本地导入\r\nimport * as misc from \"./vdom.misc\";\r\nimport * as get from \"./vdom.get\";\r\nimport * as build from \"./vdom.build\";\r\nimport * as diff from \"./vdom.diff\";\r\n\r\nexport * as misc from \"./vdom.misc\";\r\nexport * as get from \"./vdom.get\";\r\nexport * as build from \"./vdom.build\";\r\nexport * as diff from \"./vdom.diff\";\r\n\r\nexport function createVElement(\r\n        id :string,\r\n        tagName :string,\r\n        attrs :SSkvObject | null,\r\n        events :eventRecord | null,\r\n        children :childrenArray,\r\n        instance :Element | null\r\n    ) :vElement{\r\n    if(typeof tagName != \"string\") utils.generic.E(\"tagName\", \"string\", tagName);\r\n    //不完整验证\r\n    if(attrs !== null && attrs.toString() != \"[object Object]\") utils.generic.E(\"attrs\", \"SSkvObject\", attrs);\r\n    if(events !== null && events.toString() != \"[object Object]\") utils.generic.E(\"events\", \"eventRecord\", events);\r\n    if(children !== null && !(children instanceof Array)) utils.generic.E(\"children\", \"childrenArray\", children);\r\n    if(instance !== null && !(instance instanceof Element)) utils.generic.E(\"instance\", \"Element\", instance);\r\n    return{\r\n        id,\r\n        tagName: tagName.toLocaleLowerCase(), //fixed:我是傻逼\r\n        attrs,\r\n        events,\r\n        children: children,\r\n        instance\r\n    };\r\n}\r\nexport function createVText(id :string, text :string, instance :Text | null) :vText | void{\r\n    //不完整验证\r\n    if(instance !== null && !(instance instanceof Text)) utils.generic.E(\"instance\", \"Text\", instance);\r\n    if(typeof text == \"string\") return{\r\n        id,\r\n        text,\r\n        instance\r\n    };\r\n    else utils.generic.E(\"text\", \"string | null\" , text);\r\n}\r\n/**`null` 仅在垃圾文本节点会出现*/\r\nexport function parseNode(node :Node) :vDOM | void{\r\n    const test = misc.testNodeType(node), id = utils.generic.randoma2Z(15);\r\n    if(test == \"Text\"){\r\n        const textNode = node as Text,\r\n              NLIresult = misc.processNLIText(textNode);\r\n        if(NLIresult !== null) return createVText(id, NLIresult , textNode)!;\r\n        //fixed:太多方法将null作为错误返回值了，其实应该返回void的\r\n    }\r\n    else if(test == \"Element\"){\r\n        const element = node as Element,\r\n              result = createVElement(id, element.tagName, get.Attr(element), get.Event(element), get.Children(element), element);\r\n        return result;\r\n    }\r\n    else utils.generic.E(\"node\", \"instance\" , node);\r\n}\r\nexport function buildNode(vDOM :vDOM) :instance{\r\n    if(misc.isVElement(vDOM)){\r\n        vDOM = vDOM as vElement; //ts真无聊\r\n        const instance = document.createElement(vDOM.tagName);\r\n        build.Attr(instance, vDOM);\r\n        build.Event(instance, vDOM);\r\n        build.Children(instance, vDOM);\r\n        return instance;\r\n    }\r\n    else if(misc.isVText(vDOM)){\r\n        vDOM = vDOM as vText; //ts真无聊\r\n        return document.createTextNode(vDOM.text);\r\n    }\r\n    else{\r\n        utils.generic.E(\"vDOM\", \"vDOM\", vDOM);\r\n        return new Element(); //ts真无聊\r\n    }\r\n}","/* utils\r\n * ©2022 LJM12914. https://github.com/wheelsmake/utils\r\n * Licensed under MIT License. https://github.com/wheelsmake/utils/blob/main/LICENSE\r\n*/\r\nimport * as utils from \"./index\";\r\nexport function e(s :string, scope? :Element | Document) :Node[] | Node{\r\n    if(scope === undefined || !(scope instanceof Element)) scope = document;\r\n        let a :NodeList = scope.querySelectorAll(s);\r\n        if(!a.length) return [];\r\n        //note:当一个页面存在相同ID元素时不会走这里，而会返回数组，因为说好了是querySelectorAll了并且本来就不应该有重复ID，不能怪我啊\r\n        if(a.length == 1 && s.match(/^.*#[^\\s]*$/)) return a[0];\r\n        else return Array.from(a);\r\n}\r\nexport function isDescendant(possibleDescendant :Element, possibleParent :Element) :boolean{\r\n    while(possibleDescendant.tagName != \"HTML\"){\r\n        possibleDescendant = possibleDescendant.parentNode! as Element;\r\n        if(possibleDescendant === possibleParent) return true; \r\n    }\r\n    return false;\r\n}\r\nexport function isInDocument(element :Element) :boolean{\r\n    return isDescendant(element, (e(\"html\") as Node[])[0] as Element);\r\n}\r\nexport function isChild(element :Element, target :Element) :boolean{\r\n    const children = target.childNodes;\r\n    for(let i = 0; i < children.length; i++) if(element === children[i]) return true;\r\n    return false;\r\n}\r\nexport function toHTML(HTML :string) :Node[]{\r\n    if(HTML === \"\" || typeof HTML != \"string\") utils.generic.E(\"HTML\", \"string\", HTML);\r\n    const ele = document.createElement(\"div\");\r\n    ele.innerHTML = HTML;\r\n    return getInnerNodes(ele);\r\n}\r\nexport function getInnerNodes(el :Node | Element) :Node[]{\r\n    var nodes :Node[] = [];\r\n    for(let i = 0; i < el.childNodes.length; i++) nodes[i] = el.childNodes[i].cloneNode(true);\r\n    return nodes;\r\n}\r\n//剥壳器\r\nexport function hatch(element :Element, remove? :boolean) :Node[]{\r\n    //note:Nodelist类型会实时同步造成不稳定的for循环，必须转换为Node[]！\r\n    const par = element.parentElement!, children :Node[] = Array.from(element.childNodes);\r\n    for(let i = 0; i < children.length; i++) par.insertBefore(children[i], element);\r\n    if(remove === true) element.remove();\r\n    return children;\r\n}\r\n//fixme:这个方法特异性太强了吧，能不能不要放在这里？\r\n//最终渲染方法，老祖宗求你别出bug\r\nexport function render(HTML :string | Element | HTMLCollection | Element[] | Node | NodeList | Node[], element :Element, insertAfter? :boolean, append? :boolean, disableDF? :boolean) :Node[]{\r\n    if(element.parentElement === null) utils.generic.EE(\"cannot render by '<html>' element, since it's root of document.\");\r\n    var html :Node[] = [];\r\n    if(typeof HTML == \"string\") html = toHTML(HTML);\r\n    else if(HTML instanceof Element || HTML instanceof Node) html[0] = HTML.cloneNode(true);\r\n    else if(HTML instanceof HTMLCollection || HTML instanceof NodeList) for(let i = 0; i < HTML.length; i++) html[i] = HTML.item(i)!.cloneNode(true);\r\n    else html = HTML;\r\n    const Rhtml = [...html].reverse(), parent = element.parentElement;\r\n    if(append === true) for(let i = 0; i < html.length; i++) element.append(html[i]);\r\n    else if(append === false) for(let i = 0; i < Rhtml.length; i++) element.prepend(Rhtml[i]);\r\n    else if(insertAfter === true){\r\n        if(!element.nextSibling) for(let i = 0; i < Rhtml.length; i++) parent!.append(Rhtml[i]);\r\n        else for(let i = 0; i < Rhtml.length; i++) parent!.insertBefore(Rhtml[i], element.nextSibling);\r\n    }\r\n    else if(insertAfter === false) for(let i = 0; i < html.length; i++) parent!.insertBefore(html[i], element);\r\n    else for(let i = 0; i < html.length; i++) element.append(html[i]);\r\n    //todo:加入作用域\r\n    return html;\r\n}","/* utils\r\n * ©2022 LJM12914. https://github.com/wheelsmake/utils\r\n * Licensed under MIT License. https://github.com/wheelsmake/utils/blob/main/LICENSE\r\n*/\r\nimport * as utils from \"./index\";\r\nexport function randoma2Z(length :number) :string{ //52\r\n    var s :string = \"\";\r\n    for(let i = 0; i < length; i++){\r\n        let r = Math.floor(Math.random() * 52);\r\n        if(r > 25) s += String.fromCharCode(r + 71);\r\n        else s += String.fromCharCode(r + 65);\r\n    }\r\n    return s;\r\n}\r\nexport function randoma2z029(length :number) :string{ //36\r\n    var s :string = \"\";\r\n    for(let i = 0; i < length; i++){\r\n        let r = Math.floor(Math.random() * 36);\r\n        if(r < 10) s += r;\r\n        else s += String.fromCharCode(r + 87);\r\n    }\r\n    return s;\r\n}\r\nexport function precisePop(ele :any, array :any[]) :any[] | null{\r\n    if(array.indexOf(ele) === -1) return null;\r\n    return array.splice(array.indexOf(ele), 1);\r\n}\r\n//递归冻结对象\r\nexport function constantize(obj :anyObject) :void{\r\n    Object.freeze(obj);\r\n    for(let i = 0; i < Object.keys(obj).length; i++) if(typeof obj[Object.keys(obj)[i]] == \"object\") constantize(obj[Object.keys(obj)[i]]);\r\n}\r\nexport function E(argument :string, type? :string, value? :any, reason? :string) :never{\r\n    if(argument === undefined) throw new Error(\"An error occured.\");\r\n    else{\r\n        console.info(\"ERROR INFO: argument\", argument, \",type\", type, \",value\", value, \",reason\", reason); //为了拿到真正的value，其他类型toString后啥信息都没了\r\n        throw new Error(`Argument '${argument}' ${type ? `should be a(an) ${type}` : \"is invalid\"}${reason ? `, reason: ${reason}` : \"\"}${value ? `, got ${value}` : \"\"}.`);\r\n    }\r\n}\r\nexport function EE(message :any) :never{throw new Error(message);}\r\nexport function repeat(item :any, count :number) :any[]{\r\n    if(typeof count != \"number\" || count < 1) utils.generic.E(\"count\", \"number smaller than 1\", count);\r\n    var arr :any[] = [];\r\n    arr[count - 1] = \" \";\r\n    return arr.fill(item, 0, count);\r\n}","/* utils\r\n * ©2022 LJM12914. https://github.com/wheelsmake/utils\r\n * Licensed under MIT License. https://github.com/wheelsmake/utils/blob/main/LICENSE\r\n*/\r\nexport * as generic from \"./generic\";\r\nexport * as element from \"./element\";","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","/* freeDOM\r\n * ©2022 LJM12914. https://github.com/wheelsmake/freeDOM\r\n * Licensed under MIT License. https://github.com/wheelsmake/freeDOM/blob/main/LICENSE\r\n*/\r\nimport FreeDOM from \"./freedom\";\r\n//fixed:将freeDOM当作模块使用的时候不需要将它弄到全局作用域，所以将这个东西抽出来了\r\nObject.defineProperty(window, \"FreeDOM\", {\r\n    configurable: false,\r\n    writable: false,\r\n    enumerable: true,\r\n    value: FreeDOM\r\n});"],"names":[],"sourceRoot":""}