{"version":3,"file":"freeDOM.js","mappings":"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","sources":["webpack:///./src/freeDOM-core.ts","webpack:///./src/utils.ts","webpack:///webpack/bootstrap","webpack:///webpack/runtime/define property getters","webpack:///webpack/runtime/hasOwnProperty shorthand","webpack:///webpack/runtime/make namespace object","webpack:///./src/freeDOM.ts"],"sourcesContent":["import * as utils from \"./utils\";\r\nexport default class FreeDOMCore{\r\n    #rootNode :Element;\r\n    #id :string;\r\n    #key :string;\r\n    //#nodeTree :nodeTree;\r\n    //#nodeStore :nodeStore;\r\n    #alerts = [\r\n        \"DO NOT CALL ME FROM OUTSIDE THE FreeDOM, PLUS YOU CANNOT DO ANYTHING WITHOUT SECRET KEY.\"\r\n    ];\r\n    constructor(rootNode :Element, id :string, key :string){\r\n        this.#rootNode = rootNode;\r\n        this.#id = id;\r\n        this.#key = key;\r\n        //this.#nodeTree = utils.parseNode(rootNode) as nodeDescription; //rootNode不可能是文本节点，new做过判断了\r\n    }\r\n    n(){\r\n        \r\n    }\r\n    h(){return this.n();}\r\n    sync() :void{\r\n\r\n    }\r\n    rsync() /*:nodeDescription*/{\r\n\r\n    }\r\n    d(){\r\n\r\n    }\r\n    getID() :string{return this.#id;}\r\n    getRootNode() :Element{return this.#rootNode;}\r\n    __setRootNodeWithKey__(key :string, rootNode :Element) :Element | undefined{\r\n        if(key === this.#key){\r\n            this.#rootNode = rootNode;\r\n            return this.#rootNode;\r\n        }\r\n        else utils.EE(this.#alerts[0]);\r\n    }\r\n    __setIDWithKey__(key :string, id :string) :string | undefined{\r\n        if(key === this.#key){\r\n            this.#id = id;\r\n            return this.#id;\r\n        }\r\n        else utils.EE(this.#alerts[0]);\r\n    }\r\n}","/* freeDOM\r\n * ©2022 LJM12914. https://github.com/openink/freeDOM\r\n * Licensed under MIT License. https://github.com/openink/freeDOM/blob/main/LICENSE\r\n*/\r\nexport function checkNode(node :Node) :\"Text\" | \"HTMLElement\" | \"SVGElement\" | false{\r\n    if(node instanceof Text) return \"Text\";\r\n    else if(node instanceof HTMLElement) return \"HTMLElement\";\r\n    else if(node instanceof SVGElement) return \"SVGElement\";\r\n    else return false;\r\n}\r\n/*export function parseNode(node :Node) :nodeDescription | string{\r\n    switch(checkNode(node)){\r\n        case \"Text\": return (node as Text).textContent || \"\";\r\n        case \"HTMLElement\" || \"SVGElement\":\r\n            var vdom :nodeDescription = {\r\n                tagName: (node as Element).tagName,\r\n                instance: null,\r\n                attributes: getAttr(node),\r\n                childNodes: getChildNodes(node)\r\n            }\r\n            break;\r\n        case false:\r\n            break;\r\n    }\r\n    return \"\"; //hack:永远不会走到这里，都怪ts\r\n}\r\nexport function getAttr(element :Element) :nNullkvObject{\r\n    if(checkNode(element) == \"Text\") E(\"element\", \"Element\", element);\r\n}\r\nexport function getChildNodes(element :Element) :Array<nodeDescription | string>{\r\n\r\n}*/\r\nexport function reduceToElement(input :Element | string) :Element{\r\n    if(typeof input == \"string\") return e(input) as Element;\r\n    else return input;\r\n}\r\nexport function isDescendant(element :Element, target :Element) :boolean{\r\n    while(element.tagName != \"HTML\"){\r\n        element = element.parentNode! as Element;\r\n        if(element === target) return true; \r\n    }\r\n    return false;\r\n}\r\nexport function randoma2Z(length :number) :string{\r\n    var s :string = \"\";\r\n    for(let i = 0; i < length; i++){\r\n        let r = Math.floor(Math.random() * 52);\r\n        if(r > 25) s += String.fromCharCode(r + 71);\r\n        else s += String.fromCharCode(r + 65);\r\n    }\r\n    return s;\r\n}\r\nexport function randoma2Z029(length :number) :string{\r\n    var s :string = \"\";\r\n    for(let i = 0; i < length; i++){\r\n        let r = Math.floor(Math.random() * 36);\r\n        if(r < 10) s += r;\r\n        else s += String.fromCharCode(r + 87);\r\n    }\r\n    return s;\r\n}\r\nexport function e(s :string, scope? :Element | Document) :Node[] | Node{\r\n    if(scope === undefined || !(scope instanceof Element)) scope = document;\r\n        let a :NodeList = scope.querySelectorAll(s);\r\n        if(!a.length) return [];\r\n        //note:当一个页面存在相同ID元素时不会走这里，而会返回数组，因为说好了是querySelectorAll了并且本来就不应该有重复ID，不能怪我啊\r\n        if(a.length == 1 && s.match(/^.*#[^\\s]*$/)) return a[0];\r\n        else return Array.from(a);\r\n}\r\nexport function isInDocument(element :Element) :boolean{\r\n    return isDescendant(element, (e(\"html\") as Node[])[0] as Element);\r\n}\r\nexport function precisePop(ele :any, array :any[]) :any[] | null{\r\n    if(array.indexOf(ele) === -1) return null;\r\n    return array.splice(array.indexOf(ele), 1);\r\n}\r\n//递归冻结对象\r\nexport function constantize(obj :anyObject) :void{\r\n    Object.freeze(obj);\r\n    for(let i = 0; i < Object.keys(obj).length; i++) if(typeof obj[Object.keys(obj)[i]] == \"object\") constantize(obj[Object.keys(obj)[i]]);\r\n}\r\nexport function E(argument? :string, type? :string, value? :any) :never{\r\n    if(argument === undefined) throw new Error(\"An error occured.\");\r\n    else throw new Error(`Argument '${argument}' ${type ? `should be a(an) ${type}` : \"is invalid\"}${value ? `, got ${value}` : \"\"}.`);\r\n}\r\nexport function EE(message :any) :never{throw new Error(message);}\r\nexport function nouse(){\r\n    return 7;\r\n}","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","/* freeDOM\r\n * ©2022 LJM12914. https://github.com/openink/freeDOM\r\n * Licensed under MIT License. https://github.com/openink/freeDOM/blob/main/LICENSE\r\n*/\r\nimport FreeDOMCore from \"./freeDOM-core\";\r\nimport * as utils from \"./utils\";\r\nconsole.warn(\"freeDOM ©LJM12914. https://github.com/openink/freeDOM \\r\\nYou are using an unminified version of freeDOM, which is not suitable for production use.\");\r\nclass FreeDOM{\r\n    #instances :FreeDOMCore[] = [];\r\n    #keys :string[] = [];\r\n    constructor(){\r\n        console.log(\"creating new FreeDOM instance.\");\r\n    }\r\n    id(id :string) :FreeDOMCore | null{\r\n        for(let i = 0; i < this.#instances.length; i++) if(this.#instances[i].getID() === id) return this.#instances[i];\r\n        return null;\r\n    }\r\n    rootNode(rootNode :Element | string) :FreeDOMCore | null{\r\n        rootNode = utils.reduceToElement(rootNode);\r\n        for(let i = 0; i < this.#instances.length; i++) if(this.#instances[i].getRootNode() === rootNode) return this.#instances[i];\r\n        return null;\r\n    }\r\n    //parseNode(node :Node) :nodeDescription | string{return utils.parseNode(node);}\r\n    new(args :generalArgs) :boolean{\r\n        args.rootNode = utils.reduceToElement(args.rootNode);\r\n        var c = utils.checkNode(args.rootNode);\r\n        if(c != \"HTMLElement\" && c != \"SVGElement\") utils.E(\"rootNode\", \"HTMLElement\");\r\n        //排除已经是目前作用域或目前作用域子元素的新增\r\n        if(!utils.isInDocument(args.rootNode)){\r\n            console.warn(args.rootNode, \" is not in document.\");\r\n            return false;\r\n        }\r\n        for(let i = 0; i < this.#instances.length; i++) if(utils.isDescendant(args.rootNode, this.#instances[i].getRootNode()) || args.rootNode === this.#instances[i].getRootNode()){\r\n            console.warn(args.rootNode, \" is already a descendant of a rootNode of an exist scope, thus freeDOM won't add it.\");\r\n            return false;\r\n        }\r\n        //排除原数组中是新增作用域子元素的元素 //note:不能随便删除作用域实例！！！！！\r\n        //for(let i = 0; i < this.#instances.length; i++) if(utils.isDescendant(this.#instances[i].getRootNode(), args.rootNode)) utils.precisePop(this.#instances[i].getRootNode(), this.#instances);\r\n        \r\n        const key = utils.randoma2Z029(10);\r\n        this.#instances.push(new FreeDOMCore(args.rootNode, args.id, key));\r\n        this.#keys.push(key);\r\n        return true;\r\n    }\r\n    existsID(id :string) :Element | null{\r\n        for(let i = 0; i < this.#instances.length; i++) if(this.#instances[i].getID() === id) return this.#instances[i].getRootNode();\r\n        return null;\r\n    }\r\n    existsNode(rootNode :Element) :string | null{\r\n        for(let i = 0; i < this.#instances.length; i++) if(this.#instances[i].getRootNode() === rootNode) return this.#instances[i].getID();\r\n        return null;\r\n    }\r\n    updateByID(args :generalArgs) :Element | null{\r\n        args.rootNode = utils.reduceToElement(args.rootNode);\r\n        for(let i = 0; i < this.#instances.length; i++) if(this.#instances[i].getID() === args.id) this.#instances[i].__setRootNodeWithKey__(this.#keys[i], args.rootNode);\r\n        return null;\r\n    }\r\n    updateByNode(args :generalArgs) :string | null{\r\n        for(let i = 0; i < this.#instances.length; i++) if(this.#instances[i].getRootNode() === args.rootNode) this.#instances[i].__setIDWithKey__(this.#keys[i], args.id);\r\n        return null;\r\n    }\r\n    delete(arg :string | Element) :{id :string, rootNode :Element} | null{\r\n        for(let i = 0; i < this.#instances.length; i++) if(this.#instances[i].getID() === arg || this.#instances[i].getRootNode() === arg){\r\n            utils.precisePop(this.#instances[i], this.#instances);\r\n            return{\r\n                id: this.#instances[i].getID(),\r\n                rootNode: this.#instances[i].getRootNode()\r\n            }\r\n        }\r\n        return null;\r\n    }\r\n    e(s :string, scope? :Element | Document) :Node | Node[]{return utils.e(s, scope);}\r\n}\r\nutils.constantize(FreeDOM);\r\n(window as any).FreeDOM = FreeDOM;"],"names":[],"sourceRoot":""}